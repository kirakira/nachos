<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0) on Thu Nov 03 12:26:04 CST 2011 -->
<title>KThread</title>
<meta name="date" content="2011-11-03">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="KThread";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../nachos/threads/Condition2.html" title="class in nachos.threads"><span class="strong">Prev Class</span></a></li>
<li><a href="../../nachos/threads/Lock.html" title="class in nachos.threads"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?nachos/threads/KThread.html" target="_top">Frames</a></li>
<li><a href="KThread.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">nachos.threads</div>
<h2 title="Class KThread" class="title">Class KThread</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>nachos.threads.KThread</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../nachos/userprog/UThread.html" title="class in nachos.userprog">UThread</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">KThread</span>
extends java.lang.Object</pre>
<div class="block">A KThread is a thread that can be used to execute Nachos kernel code. Nachos
 allows multiple threads to run concurrently.
 
 To create a new thread of execution, first declare a class that implements
 the <tt>Runnable</tt> interface. That class then implements the <tt>run</tt>
 method. An instance of the class can then be allocated, passed as an argument
 when creating <tt>KThread</tt>, and forked. For example, a thread that
 computes pi could be written as follows:
 
 <p>
 <blockquote>
 
 <pre>
 class PiRun implements Runnable {
        public void run() {
         // compute pi
         ...
     }
 }
 </pre>
 
 </blockquote>
 <p>
 The following code would then create a thread and start it running:
 
 <p>
 <blockquote>
 
 <pre>
 PiRun p = new PiRun();
 new KThread(p).fork();
 </pre>
 
 </blockquote></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#schedulingState">schedulingState</a></strong></code>
<div class="block">Additional state used by schedulers.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../nachos/threads/KThread.html#KThread()">KThread</a></strong>()</code>
<div class="block">Allocate a new <tt>KThread</tt>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../nachos/threads/KThread.html#KThread(java.lang.Runnable)">KThread</a></strong>(java.lang.Runnable&nbsp;target)</code>
<div class="block">Allocate a new KThread.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#compareTo(java.lang.Object)">compareTo</a></strong>(java.lang.Object&nbsp;o)</code>
<div class="block">Deterministically and consistently compare this thread to another thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../nachos/threads/KThread.html" title="class in nachos.threads">KThread</a></code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#currentThread()">currentThread</a></strong>()</code>
<div class="block">Get the current thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#finish()">finish</a></strong>()</code>
<div class="block">Finish the current thread and schedule it to be destroyed when it is safe
 to do so.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#fork()">fork</a></strong>()</code>
<div class="block">Causes this thread to begin execution.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#getName()">getName</a></strong>()</code>
<div class="block">Get the name of this thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#join()">join</a></strong>()</code>
<div class="block">Waits for this thread to finish.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#ready()">ready</a></strong>()</code>
<div class="block">Moves this thread to the ready state and adds this to the scheduler's
 ready queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#restoreState()">restoreState</a></strong>()</code>
<div class="block">Prepare this thread to be run.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#saveState()">saveState</a></strong>()</code>
<div class="block">Prepare this thread to give up the processor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#selfTest()">selfTest</a></strong>()</code>
<div class="block">Tests whether this module is working.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../nachos/threads/KThread.html" title="class in nachos.threads">KThread</a></code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#setName(java.lang.String)">setName</a></strong>(java.lang.String&nbsp;name)</code>
<div class="block">Set the name of this thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../nachos/threads/KThread.html" title="class in nachos.threads">KThread</a></code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#setTarget(java.lang.Runnable)">setTarget</a></strong>(java.lang.Runnable&nbsp;target)</code>
<div class="block">Set the target of this thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#sleep()">sleep</a></strong>()</code>
<div class="block">Relinquish the CPU, because the current thread has either finished or it
 is blocked.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#toString()">toString</a></strong>()</code>
<div class="block">Get the full name of this thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/threads/KThread.html#yield()">yield</a></strong>()</code>
<div class="block">Relinquish the CPU if any other thread is ready to run.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="schedulingState">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>schedulingState</h4>
<pre>public&nbsp;java.lang.Object schedulingState</pre>
<div class="block">Additional state used by schedulers.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../nachos/threads/PriorityScheduler.ThreadState.html" title="class in nachos.threads"><code>PriorityScheduler.ThreadState</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="KThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KThread</h4>
<pre>public&nbsp;KThread()</pre>
<div class="block">Allocate a new <tt>KThread</tt>. If this is the first <tt>KThread</tt>,
 create an idle thread as well.</div>
</li>
</ul>
<a name="KThread(java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KThread</h4>
<pre>public&nbsp;KThread(java.lang.Runnable&nbsp;target)</pre>
<div class="block">Allocate a new KThread.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>target</code> - the object whose <tt>run</tt> method is called.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="currentThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentThread</h4>
<pre>public static&nbsp;<a href="../../nachos/threads/KThread.html" title="class in nachos.threads">KThread</a>&nbsp;currentThread()</pre>
<div class="block">Get the current thread.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the current thread.</dd></dl>
</li>
</ul>
<a name="setTarget(java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTarget</h4>
<pre>public&nbsp;<a href="../../nachos/threads/KThread.html" title="class in nachos.threads">KThread</a>&nbsp;setTarget(java.lang.Runnable&nbsp;target)</pre>
<div class="block">Set the target of this thread.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>target</code> - the object whose <tt>run</tt> method is called.</dd>
<dt><span class="strong">Returns:</span></dt><dd>this thread.</dd></dl>
</li>
</ul>
<a name="setName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setName</h4>
<pre>public&nbsp;<a href="../../nachos/threads/KThread.html" title="class in nachos.threads">KThread</a>&nbsp;setName(java.lang.String&nbsp;name)</pre>
<div class="block">Set the name of this thread. This name is used for debugging purposes
 only.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - the name to give to this thread.</dd>
<dt><span class="strong">Returns:</span></dt><dd>this thread.</dd></dl>
</li>
</ul>
<a name="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block">Get the name of this thread. This name is used for debugging purposes
 only.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the name given to this thread.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Get the full name of this thread. This includes its name along with its
 numerical ID. This name is used for debugging purposes only.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the full name given to this thread.</dd></dl>
</li>
</ul>
<a name="compareTo(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compareTo</h4>
<pre>public&nbsp;int&nbsp;compareTo(java.lang.Object&nbsp;o)</pre>
<div class="block">Deterministically and consistently compare this thread to another thread.</div>
</li>
</ul>
<a name="fork()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fork</h4>
<pre>public&nbsp;void&nbsp;fork()</pre>
<div class="block">Causes this thread to begin execution. The result is that two threads are
 running concurrently: the current thread (which returns from the call to
 the <tt>fork</tt> method) and the other thread (which executes its
 target's <tt>run</tt> method).</div>
</li>
</ul>
<a name="finish()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finish</h4>
<pre>public static&nbsp;void&nbsp;finish()</pre>
<div class="block">Finish the current thread and schedule it to be destroyed when it is safe
 to do so. This method is automatically called when a thread's
 <tt>run</tt> method returns, but it may also be called directly.
 
 The current thread cannot be immediately destroyed because its stack and
 other execution state are still in use. Instead, this thread will be
 destroyed automatically by the next thread to run, when it is safe to
 delete this thread.</div>
</li>
</ul>
<a name="yield()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>yield</h4>
<pre>public static&nbsp;void&nbsp;yield()</pre>
<div class="block">Relinquish the CPU if any other thread is ready to run. If so, put the
 current thread on the ready queue, so that it will eventually be
 rescheuled.
 
 <p>
 Returns immediately if no other thread is ready to run. Otherwise returns
 when the current thread is chosen to run again by
 <tt>readyQueue.nextThread()</tt>.
 
 <p>
 Interrupts are disabled, so that the current thread can atomically add
 itself to the ready queue and switch to the next thread. On return,
 restores interrupts to the previous state, in case <tt>yield()</tt> was
 called with interrupts disabled.</div>
</li>
</ul>
<a name="sleep()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sleep</h4>
<pre>public static&nbsp;void&nbsp;sleep()</pre>
<div class="block">Relinquish the CPU, because the current thread has either finished or it
 is blocked. This thread must be the current thread.
 
 <p>
 If the current thread is blocked (on a synchronization primitive, i.e. a
 <tt>Semaphore</tt>, <tt>Lock</tt>, or <tt>Condition</tt>), eventually
 some thread will wake this thread up, putting it back on the ready queue
 so that it can be rescheduled. Otherwise, <tt>finish()</tt> should have
 scheduled this thread to be destroyed by the next thread to run.</div>
</li>
</ul>
<a name="ready()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ready</h4>
<pre>public&nbsp;void&nbsp;ready()</pre>
<div class="block">Moves this thread to the ready state and adds this to the scheduler's
 ready queue.</div>
</li>
</ul>
<a name="join()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>join</h4>
<pre>public&nbsp;void&nbsp;join()</pre>
<div class="block">Waits for this thread to finish. If this thread is already finished,
 return immediately. This method must only be called once; the second call
 is not guaranteed to return. This thread must not be the current thread.</div>
</li>
</ul>
<a name="restoreState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreState</h4>
<pre>protected&nbsp;void&nbsp;restoreState()</pre>
<div class="block">Prepare this thread to be run. Set <tt>status</tt> to
 <tt>statusRunning</tt> and check <tt>toBeDestroyed</tt>.</div>
</li>
</ul>
<a name="saveState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveState</h4>
<pre>protected&nbsp;void&nbsp;saveState()</pre>
<div class="block">Prepare this thread to give up the processor. Kernel threads do not need
 to do anything here.</div>
</li>
</ul>
<a name="selfTest()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>selfTest</h4>
<pre>public static&nbsp;void&nbsp;selfTest()</pre>
<div class="block">Tests whether this module is working.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../nachos/threads/Condition2.html" title="class in nachos.threads"><span class="strong">Prev Class</span></a></li>
<li><a href="../../nachos/threads/Lock.html" title="class in nachos.threads"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?nachos/threads/KThread.html" target="_top">Frames</a></li>
<li><a href="KThread.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
