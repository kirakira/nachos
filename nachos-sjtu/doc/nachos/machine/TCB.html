<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0) on Thu Nov 03 12:26:04 CST 2011 -->
<title>TCB</title>
<meta name="date" content="2011-11-03">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TCB";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../nachos/machine/SynchDisk.html" title="class in nachos.machine"><span class="strong">Prev Class</span></a></li>
<li><a href="../../nachos/machine/Timer.html" title="class in nachos.machine"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?nachos/machine/TCB.html" target="_top">Frames</a></li>
<li><a href="TCB.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">nachos.machine</div>
<h2 title="Class TCB" class="title">Class TCB</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>nachos.machine.TCB</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">TCB</span>
extends java.lang.Object</pre>
<div class="block">A TCB simulates the low-level details necessary to create, context-switch,
 and destroy Nachos threads. Each TCB controls an underlying JVM Thread
 object.
 
 <p>
 Do not use any methods in <tt>java.lang.Thread</tt>, as they are not
 compatible with the TCB API. Most <tt>Thread</tt> methods will either crash
 Nachos or have no useful effect.
 
 <p>
 Do not use the <i>synchronized</i> keyword <b>anywhere</b> in your code. It's
 against the rules, <i>and</i> it can easily deadlock nachos.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../nachos/machine/TCB.html#maxThreads">maxThreads</a></strong></code>
<div class="block">The maximum number of started, non-destroyed TCB's that can be in
 existence.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../nachos/machine/TCB.html#TCB()">TCB</a></strong>()</code>
<div class="block">Allocate a new TCB.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/machine/TCB.html#contextSwitch()">contextSwitch</a></strong>()</code>
<div class="block">Context switch between the current TCB and this TCB.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../nachos/machine/TCB.html" title="class in nachos.machine">TCB</a></code></td>
<td class="colLast"><code><strong><a href="../../nachos/machine/TCB.html#currentTCB()">currentTCB</a></strong>()</code>
<div class="block">Return the TCB of the currently running thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/machine/TCB.html#destroy()">destroy</a></strong>()</code>
<div class="block">Destroy this TCB.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/machine/TCB.html#die()">die</a></strong>()</code>
<div class="block">Destroy all TCBs and exit Nachos.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/machine/TCB.html#givePrivilege(nachos.security.Privilege)">givePrivilege</a></strong>(<a href="../../nachos/security/Privilege.html" title="class in nachos.security">Privilege</a>&nbsp;privilege)</code>
<div class="block">Give the TCB class the necessary privilege to create threads.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../nachos/machine/TCB.html#isNachosThread()">isNachosThread</a></strong>()</code>
<div class="block">Test if the current JVM thread belongs to a Nachos TCB.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../nachos/machine/TCB.html#start(java.lang.Runnable)">start</a></strong>(java.lang.Runnable&nbsp;target)</code>
<div class="block">Causes the thread represented by this TCB to begin execution.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="maxThreads">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>maxThreads</h4>
<pre>public static final&nbsp;int maxThreads</pre>
<div class="block">The maximum number of started, non-destroyed TCB's that can be in
 existence.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#nachos.machine.TCB.maxThreads">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TCB()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TCB</h4>
<pre>public&nbsp;TCB()</pre>
<div class="block">Allocate a new TCB.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="givePrivilege(nachos.security.Privilege)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>givePrivilege</h4>
<pre>public static&nbsp;void&nbsp;givePrivilege(<a href="../../nachos/security/Privilege.html" title="class in nachos.security">Privilege</a>&nbsp;privilege)</pre>
<div class="block">Give the TCB class the necessary privilege to create threads. This is
 necessary, because unlike other machine classes that need privilege, we
 want the kernel to be able to create TCB objects on its own.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>privilege</code> - encapsulates privileged access to the Nachos machine.</dd></dl>
</li>
</ul>
<a name="start(java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start(java.lang.Runnable&nbsp;target)</pre>
<div class="block">Causes the thread represented by this TCB to begin execution. The
 specified target is run in the thread.</div>
</li>
</ul>
<a name="currentTCB()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentTCB</h4>
<pre>public static&nbsp;<a href="../../nachos/machine/TCB.html" title="class in nachos.machine">TCB</a>&nbsp;currentTCB()</pre>
<div class="block">Return the TCB of the currently running thread.</div>
</li>
</ul>
<a name="contextSwitch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contextSwitch</h4>
<pre>public&nbsp;void&nbsp;contextSwitch()</pre>
<div class="block">Context switch between the current TCB and this TCB. This TCB will become
 the new current TCB. It is acceptable for this TCB to be the current TCB.</div>
</li>
</ul>
<a name="destroy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
<div class="block">Destroy this TCB. This TCB must not be in use by the current thread. This
 TCB must also have been authorized to be destroyed by the autograder.</div>
</li>
</ul>
<a name="die()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>die</h4>
<pre>public static&nbsp;void&nbsp;die()</pre>
<div class="block">Destroy all TCBs and exit Nachos. Same as <tt>Machine.terminate()</tt>.</div>
</li>
</ul>
<a name="isNachosThread()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isNachosThread</h4>
<pre>public static&nbsp;boolean&nbsp;isNachosThread()</pre>
<div class="block">Test if the current JVM thread belongs to a Nachos TCB. The AWT event
 dispatcher is an example of a non-Nachos thread.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><tt>true</tt> if the current JVM thread is a Nachos thread.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../nachos/machine/SynchDisk.html" title="class in nachos.machine"><span class="strong">Prev Class</span></a></li>
<li><a href="../../nachos/machine/Timer.html" title="class in nachos.machine"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?nachos/machine/TCB.html" target="_top">Frames</a></li>
<li><a href="TCB.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
